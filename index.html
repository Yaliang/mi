<!DOCTYPE html>
<html manifest="cache.manifest">

<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="google-site-verification" content="zqi1qvIiwocwoL_b0haed8dM1LCW1J5RgaahmKOngTE" />
    <!-- Disable automatic phone number detection. -->
    <meta name="format-detection" content="telephone=no">
    
    <!--Name of the web app-->
    <title>Yueme</title>

    <link rel="icon" sizes="192x192" href="./content/material-design/png/m-192.png">
    <link rel="apple-touch-icon" href="./content/material-design/png/m-192.png">

    <!-- STARTUP IMAGES -->
    <!-- iPad retina portrait startup image -->
    <link href="./content/png/apple-touch-startup-image-1536x2008.png"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 2)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">
 
    <!-- iPad retina landscape startup image -->
    <link href="./content/png/apple-touch-startup-image-1496x2048.png"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 2)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">
 
    <!-- iPad non-retina portrait startup image -->
    <link href="./content/png/apple-touch-startup-image-768x1004.png"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 1)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">
 
    <!-- iPad non-retina landscape startup image -->
    <link href="./content/png/apple-touch-startup-image-748x1024.png"
          media="(device-width: 768px) and (device-height: 1024px)
                 and (-webkit-device-pixel-ratio: 1)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">
 
    <!-- iPhone 6 Plus portrait startup image -->
    <link href="./content/png/apple-touch-startup-image-1242x2148.png"
          media="(device-width: 414px) and (device-height: 736px)
                 and (-webkit-device-pixel-ratio: 3)
                 and (orientation: portrait)"
          rel="apple-touch-startup-image">
 
    <!-- iPhone 6 Plus landscape startup image -->
    <link href="./content/png/apple-touch-startup-image-1182x2208.png"
          media="(device-width: 414px) and (device-height: 736px)
                 and (-webkit-device-pixel-ratio: 3)
                 and (orientation: landscape)"
          rel="apple-touch-startup-image">
 
    <!-- iPhone 6 startup image -->
    <link href="./content/png/apple-touch-startup-image-750x1294.png"
          media="(device-width: 375px) and (device-height: 667px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">
 
    <!-- iPhone 5 startup image -->
    <link href="./content/png/apple-touch-startup-image-640x1096.png"
          media="(device-width: 320px) and (device-height: 568px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">
 
    <!-- iPhone < 5 retina startup image -->
    <link href="./content/png/apple-touch-startup-image-640x920.png"
          media="(device-width: 320px) and (device-height: 480px)
                 and (-webkit-device-pixel-ratio: 2)"
          rel="apple-touch-startup-image">
 
    <!-- iPhone < 5 non-retina startup image -->
    <link href="./content/png/apple-touch-startup-image-320x460.png"
          media="(device-width: 320px) and (device-height: 480px)
                 and (-webkit-device-pixel-ratio: 1)"
          rel="apple-touch-startup-image">
    <!-- END OF STARTUP IMAGES -->
 
    <!-- Prevent text size change on orientation change. -->
    <style>
      html {
        -webkit-text-size-adjust: 100%;
      }
    </style>

    <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="./script/jquery/mobile/jquery.mobile-1.4.5.min.css" />
    <link rel="stylesheet" href="index.css" />

    <script type="text/javascript">
        window.location.hash = "#page-loading";
    </script>
    <script src="./script/jquery/jquery-1.11.1.min.js"></script>
    <script src="./script/jquery/mobile/jquery.mobile-1.4.5.min.js"></script>
    <script src="./script/exif/load-image.all.min.js"></script>
    <script src="./script/parse/parse-1.3.2.min.js"></script>
    <script src="./script/parse/query.js"></script>
    <script src="./script/cache.js"></script>
    <script src="./script/functions.js"></script>
    <script src="./script/functions-events.js"></script>
    <script src="./script/functions-friends.js"></script>
    <script src="./script/functions-chats.js"></script>
    <script src="./script/functions-settings.js"></script>
</head>

<body>
    <!--Page for loading -->
    <div id="page-loading" data-role="page" data-title="Yueme">

        <div class="ui-content" role="main">
            <div class="loading-page-image"></div>
        </div>

    </div><!-- /page -->

     <!--Page for signup -->
    <div id="page-signup" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>Sign Up</h1>
            <a class="ui-btn-right ui-btn ui-btn-inline ui-corner-all" href="#page-login"
               onclick="$('#login-error').html('');setCurrLocationHash('#page-login')">Log In</a>
        </div><!-- header -->

        <div class="ui-content" role="main">
            <form id="signup-form" style="padding: 1em">
                <label for="signup-name">Name:</label>
                <input id="signup-name" data-clear-btn="true" type="text" name="username" value="">
                <label for="signup-email">Email:</label>
                <input id="signup-email" data-clear-btn="true" type="email" name="useremail" value="">
                <label for="signup-password">Password:</label>
                <input id="signup-password" data-clear-btn="ture" type="password" name="userpassword" value="" autocomplete="off">
                <div class="error-message" id="signup-error" ></div>
                <button class="ui-btn" onclick="signup()">Sign Up</button>
            </form>
        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false"></div><!-- /footer -->

    </div><!-- /page -->

     <!--Page for login -->
    <div id="page-login" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>Log In</h1>
            <a class="ui-btn-right ui-btn ui-btn-inline ui-corner-all" href="#page-signup"
               onclick="$('#signup-error').html('');setCurrLocationHash('#page-signup')">Sign Up</a>
        </div><!-- header -->

        <div class="ui-content" role="main">
            <form id="login-form" style="padding: 1em " >
                <label for="login-email">Email:</label>
                <input id="login-email" data-clear-btn="true" type="email" name="useremail" value="">
                <label for="login-password">Password:</label>
                <input id="login-password"  data-clear-btn="ture" type="password" name="userpassword" value="" autocomplete="off">
                <div class="error-message" id="login-error"></div>
                <button class="ui-btn" onclick="login();">Log In</button>
            </form>
        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false"></div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for displaying the list of events -->
    <div id="page-event" data-role="page" data-title="Yueme">

        <div data-role="header" data-position="fixed" data-tap-toggle="false" >
            <h1>Activities</h1>
            <a class="ui-btn-right ui-btn ui-btn-inline ui-corner-all" id="ui-icon-custom-right-top-more" href="#"
               onclick="displayEventMoreOption();"></a>
        </div><!-- /header -->

        <div  class="ui-content" id="event-content" role="main">
            <div class="ui-load-more-activity" onclick="pullUserEvent(currentLastEvent)">More Activities</div>
        </div><!-- /content -->

        <div class="nav-glyphish-example" data-role="footer" data-position="fixed" data-tap-toggle="false">
            <div class="nav-glyphish-example" data-role="navbar" data-grid="c">
            <ul>
                <li><a class="event-active-custom" id="event" data-transition="none" href="#page-event"
                       onclick="pullUserEvent();setCurrLocationHash('#page-event')">Activities</a></li>

                <li><a  id="friend" data-transition="none" href="#page-friend"
                       onclick="pullMyFriendList();setCurrLocationHash('#page-friend')">Friends</a></li>

                <li><a id="chat" data-transition="none" href="#page-chat"
                       onclick="pullMyChat();setCurrLocationHash('#page-chat')">Chats</a></li>

                <li><a id="setting" data-transition="none" href="#page-setting"
                       onclick="setCurrLocationHash('#page-setting')">Settings</a></li>
            </ul>
            </div>
        </div><!-- /footer -->

        <ul class="event-page-right-top-options" style="display: none;">
            <li><a id="event-page-right-top-option-1" href="#page-event-create"
                   onclick="setCurrLocationHash('#page-event-create')">Create</a></li>

            <li><a id="event-page-right-top-option-2" href="#page-event-my-event"
                   onclick="setCurrLocationHash('#page-event-my-event')">My Activities</a></li>
        </ul>

        <div class="options-hidden-cover-layer" style="display: none;"></div>

    </div><!-- /page -->

    <!-- Page for displaying the list of my events -->
    <div id="page-event-my-event" data-role="page"  data-title="Yueme">

        <div data-role="header" data-position="fixed" data-tap-toggle="false" >
            <h1>My Activities</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" href="#page-event"
               onclick="setCurrLocationHash('#page-event')">Back</a>
        </div><!-- /header -->

        <div class="ui-content" id="my-event-content" role="main"></div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false"></div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for creating a new event -->
    <div id="page-event-create" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>Create Activity</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" href="#page-event"
               onclick="setCurrLocationHash('#page-event')">Cancel</a>
        </div><!-- /header -->

        <div class="ui-content" role="main" >
            <form id="event-create-form" style="padding: 1em">
                <label for="event-create-title">Title:</label>
                <input id="event-create-title" data-clear-btn="true" type="text" name="eventtitle" value="">
                <label for="event-create-location">Location:</label>
                <input id="event-create-location" data-clear-btn="ture" type="text" name="eventlocation" value="">
                <label for="event-create-startTime">Start Time:</label>
                <input id="event-create-startTime" data-clear-btn="ture" type="datetime-local" name="eventstarttime" value="">
                <label for="event-create-endTime">End Time:</label>
                <input id="event-create-endTime" data-clear-btn="ture" type="datetime-local" name="eventendtime" value="">
                <label for="event-create-visibility">Visibility:</label>
                <select id="event-create-visibility" name="eventvisibility"
                        data-role="flipswitch" data-wrapper-class="custom-size-flipswitch-event-create-visibility" checked="">
                    <option value="off">Friends</option>
                    <option value="on" selected="">Public</option>
                </select>
                <label for="event-create-description">Description:</label>
                <textarea id="event-create-description" name="eventdescription"></textarea>
            </form>

            <div id="event-create-preview"></div>
            <div id="event-create-error"></div>

            <button class="ui-btn" id="event-create-button">Create</button>

        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false">
        </div><!-- /footer -->
    </div><!-- /page -->

    <!-- Page for edit event -->
    <div id="page-event-edit" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>Edit Activity</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back" href="#"
               onclick="setCurrLocationHash('#page-event')">Cancel</a>
        </div><!-- /header -->

        <div class="ui-content" role="main">
            <form id="event-edit-form" style="padding: 1em">
                <label for="event-edit-title">Title:</label>
                <input id="event-edit-title" data-clear-btn="true" type="text" name="eventtitle" value="">
                <label for="event-edit-location">Location:</label>
                <input id="event-edit-location" data-clear-btn="ture" type="text" name="eventlocation" value="">
                <label for="event-edit-startTime">Start Time:</label>
                <input id="event-edit-startTime" data-clear-btn="ture" type="datetime-local" name="eventstarttime" value="">
                <label for="event-edit-endTime">End Time:</label>
                <input id="event-edit-endTime" data-clear-btn="ture" type="datetime-local" name="eventendtime" value="">
                <label for="event-edit-visibility">Visibility:</label>
                <select name="eventvisibility" id="event-edit-visibility"
                        data-role="flipswitch" data-wrapper-class="custom-size-flipswitch-event-create-visibility" checked="">
                    <option value="off">Friends</option>
                    <option value="on" selected="">Public</option>
                </select>
                <!-- flyer will comming later 
                    <label for="eventflyer">Flyer:</label>
                    <input type="file" name="eventflyer" accept="image/*" capture>
                -->
                <!-- label of event will comming later 
                -->
                <label for="event-edit-description">Description:</label>
                <textarea id="event-edit-description" name="eventdescription"></textarea>
            </form>

            <div id="event-edit-preview"></div>
            <div id="event-edit-error"></div>
            <button class="ui-btn" id="event-editsave-button">Save</button>

        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false"></div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for displaying the detail of an event -->
    <div id="page-event-detail" data-role="page" data-title="Yueme" data-add-back-btn="true">

        <div data-role="header">
            <h1>Activity Detail</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back" href="#page-event"
               onclick="$('#send-comment-bar').fadeOut(); setCurrLocationHash('#page-event')">Back</a>

            <a class="ui-btn-right ui-btn ui-btn-inline ui-corner-all" id="ui-icon-custom-right-top-more" href="#"
               onclick="displayEventDetailMoreOption()"></a>
        </div><!-- /header -->

        <div class="ui-content" id="event-detail-content" role="main"></div>

        <div class="ui-page-detail-more-option-bottom" id="page-event-detail-more-option">
            <a class="ui-btn report-btn" data-transition="slideup" href="#page-event-report"
               onclick="hideEventDetailMoreOption()">Report</a>
            <div class="ui-btn ui-more-option-cancel-btn" onclick="hideEventDetailMoreOption()">Cancel</div>
        </div>

    </div><!-- /page -->

    <!-- page for report pop up  -->
    <div id="page-event-report" data-role="page" data-title="Yueme">

        <div data-role="header" data-theme="b">
             <h1>Report Activity</h1>
        </div>

        <div class="ui-content" role="main">
            <br>

            <div align = "center" style="font-family: 'Open Sans';">
                Are you sure to report this activity? You might not be able to cancel this action.
            </div>

            <br>
            <a  class="ui-btn ui-shadow ui-corner-all ui-btn-a ui-custom-report" data-rel="back">Confirm</a>
            <a  class="ui-btn ui-shadow ui-corner-all ui-btn-a" data-rel="back" onclick="$('#send-comment-bar').fadeIn();">Cancel</a>
        </div>

    </div><!-- /page -->

    <!-- page for delete confirm pop up  -->
    <div id="page-event-delete" data-role="page" data-title="Yueme">

        <div data-role="header" data-theme="b">
            <h1>Delete Activity</h1>
        </div>

        <div class="ui-content" role="main">
            <br>
            <div align = "center" style="font-family: 'Open Sans';">
                Are you sure to delete this activity? You might not be able to undo this action.
            </div>
            <br>
            <a class="ui-btn ui-shadow ui-corner-all ui-btn-a ui-custom-delete-confirm" data-rel="back">Confirm</a>
            <a class="ui-btn ui-shadow ui-corner-all ui-btn-a" data-rel="back" onclick="setCurrLocationHash('#page-event-detail');">Cancel</a>
        </div>

    </div><!-- /page -->

    <!-- Page for displaying the friend list -->
    <div id="page-friend" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>Friends</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" href="#page-people-near-by"
               onclick="listPeopleNearBy();setCurrLocationHash('#page-people-near-by')">Near By</a>

            <a class="ui-btn-right ui-btn ui-btn-inline ui-corner-all" href="#page-people-search"
               onclick="bindSearchAutocomplete();setCurrLocationHash('#page-people-search')">Search</a>
        </div><!-- /header -->

        <div role="main" class="ui-content">
            <a class="ui-btn" id="new-friend-requests-btn" href="#page-my-friend-requests"
               onclick="pullMyFriendRequests();setCurrLocationHash('#page-my-friend-requests')">
               New Friend Requests
               <span class="ui-li-count" id="new-friend-requests-number"></span>
            </a>

            <ul class="ui-custom-listview ui-listview ui-listview-inset ui-corner-all ui-shadow" id="friend-list"></ul>
        </div><!-- /content -->

        <div class="nav-glyphish-example" data-role="footer" data-position="fixed" data-tap-toggle="false">
            <div class="nav-glyphish-example" data-role="navbar" data-grid="c">
                <ul>
                    <li><a id="event" data-transition="none" href="#page-event"
                           onclick="pullUserEvent();setCurrLocationHash('#page-event')">Activities</a></li>

                    <li><a class="friend-active-custom" id="friend" data-transition="none" href="#page-friend"
                           onclick="pullMyFriendList();setCurrLocationHash('#page-friend')">Friends</a></li>

                    <li><a id="chat" data-transition="none" href="#page-chat"
                           onclick="pullMyChat();setCurrLocationHash('#page-chat')">Chats</a></li>

                    <li><a id="setting" data-transition="none" href="#page-setting"
                           onclick="setCurrLocationHash('#page-setting')">Settings</a></li>
                </ul>
            </div>
        </div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for displaying other user's profile -->
    <div data-role="page" id="page-display-user-profile" data-title="Yueme">

        <div data-role="header">
            <h1>Profile</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back">Back</a>
        </div><!-- /header -->

        <div class="ui-content" id="user-profile" role="main"></div><!-- /content -->

    </div><!-- /page -->

    <!-- Page for displaying the people near by -->
    <div id="page-people-near-by" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>People</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back" href="#page-friend"
               onclick="stopGeoWatch();setCurrLocationHash('#page-friend')">Back</a>
        </div><!-- /header -->

        <div role="main" class="ui-content"></div><!-- /content -->

        <div class="nav-glyphish-example" data-role="footer" data-position="fixed" data-tap-toggle="false"></div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for searching user by email/name/maybe others -->
    <div id="page-people-search" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>People</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back" href="#page-friend"
               onclick="unbindSearchAutocomplete();setCurrLocationHash('#page-friend')">Back</a>
        </div><!-- /header -->

        <div class="ui-content" role="main">
            <form class="ui-filterable">
                <input id="user-autocomplete-input" data-type="search" placeholder="Email/Name">
            </form>
            <ul id="user-autocomplete-list" data-role="listview" data-inset="true" data-filter="true" data-input="#user-autocomplete-input"></ul>
        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false"></div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for displaying all new friend requests -->
    <div id="page-my-friend-requests" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>People</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back" href="#page-friend"
               onclick="pullMyFriendList();setCurrLocationHash('#page-friend')">Back</a>
        </div><!-- /header -->

        <div class="ui-content" role="main"></div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false"></div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for displaying the chat list -->
    <div id="page-chat" data-role="page" data-title="Yueme">

        <div data-role="header" data-position="fixed" data-tap-toggle="false" >
            <h1>Chats</h1>
        </div><!-- /header -->

        <div class="ui-content" role="main"></div><!-- /content -->

        <div class="nav-glyphish-example" data-role="footer" data-position="fixed" data-tap-toggle="false">
            <div class="nav-glyphish-example" data-role="navbar" data-grid="c">
                <ul>
                    <li><a id="event" data-transition="none" href="#page-event"
                           onclick="pullUserEvent();setCurrLocationHash('#page-event')">Activities</a></li>

                    <li><a id="friend" data-transition="none" href="#page-friend"
                           onclick="pullMyFriendList();setCurrLocationHash('#page-friend')">Friends</a></li>

                    <li><a class="chat-active-custom" id="chat" data-transition="none" href="#page-chat"
                           onclick="pullMyChat();setCurrLocationHash('#page-chat')">Chats</a></li>

                    <li><a id="setting" data-transition="none" href="#page-setting"
                           onclick="setCurrLocationHash('#page-setting')">Settings</a></li>
                </ul>
            </div>
        </div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for displaying the messages of a chat -->
    <div id="page-chat-messages" data-role="page" data-title="Yueme" data-add-back-btn="true">

        <div data-role="header" data-position="fixed" data-tap-toggle="false" >
            <h1 id="chat-messages-title"></h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back" href="#page-chat"
               onclick="pullMyChat(); $('#send-message-bar').fadeOut();setCurrLocationHash('#page-chat')">Back</a>
        </div><!-- /header -->

        <div class="ui-content" style="margin-bottom:100px" role="main"></div><!-- /content -->

    </div><!-- /page -->

    <!-- Page for displaying setting options -->
    <div id="page-setting" data-role="page" data-title="Yueme">
        <div data-role="header">
            <h1>Setting</h1>
        </div><!-- /header -->

        <div class="ui-content" role="main">
            <a class="ui-btn" href="#page-edit-my-profile"
               onclick="getMyProfile(); $('#profile-save-btn').on('click', function(){saveProfile()});
               setCurrLocationHash('#page-edit-my-profile')">Edit My Profile</a>

            <a class="ui-btn" href="#page-change-my-password" onclick="setCurrLocationHash('#page-change-my-password')">Password</a>

            <button class="ui-btn ui-custom-log-out" onclick="logout();">Logout</button>
        </div><!-- /content -->

        <div class="nav-glyphish-example" data-role="footer" data-position="fixed" data-tap-toggle="false">
            <div class="nav-glyphish-example" data-role="navbar" data-grid="c">
                <ul>
                    <li><a id="event" data-transition="none" href="#page-event"
                           onclick="pullUserEvent();setCurrLocationHash('#page-event')">Activities</a></li>

                    <li><a id="friend" data-transition="none" href="#page-friend"
                           onclick="pullMyFriendList();setCurrLocationHash('#page-friend')">Friends</a></li>

                    <li><a id="chat" data-transition="none" href="#page-chat"
                           onclick="pullMyChat();setCurrLocationHash('#page-chat')">Chats</a></li>

                    <li><a class="setting-active-custom" id="setting" data-transition="none" href="#page-setting"
                           onclick="setCurrLocationHash('#page-setting')">Settings</a></li>
                </ul>
            </div>
        </div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for displaying edit my profile -->
    <div id="page-edit-my-profile" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1>My Profile</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back" href="#page-setting"
               onclick="refreshPreviewPhoto = false; setCurrLocationHash('#page-setting')">Back
            </a>

            <a class="ui-btn-right ui-btn ui-btn-inline ui-corner-all" id="profile-save-btn" data-rel="back" href="#page-setting"
               onclick="saveProfile();setCurrLocationHash('#page-setting')">Save
            </a>
        </div><!-- /header -->

        <div class="ui-content" id="my-profile" role="main">
            <div class="profile-photo-bar">
                <label style="padding-left: 1em;" for="profile-edit-photo">Photo:</label>
                <canvas class="profile-photo-preview" id="canvas-photo" width="120px" height="120px"></canvas>
                <input id="profile-edit-photo" name="profilephoto" data-clear-btn="false" type="file"
                       onclick="refreshPreviewPhoto = true; refreshPreviewCanvas();" value="">
                <div class="ui-hidden-accessible" id="photo-orientation"></div>
            </div>

            <form style="padding: 1em;">
                <label for="profile-edit-name">Name:</label>
                <input id="profile-edit-name" data-clear-btn="true" type="text" name="profilename" value="">
                <label for="profile-edit-gender">Gender:</label>

                <select id="profile-edit-gender" name="profilegender"
                        data-role="flipswitch" data-wrapper-class="custom-size-flipswitch-event-create-visibility" checked="">
                    <option value="off">Female</option>
                    <option value="on" selected="">Male</option>
                </select>

                <label for="profile-edit-birthdate">Birthdate:</label>
                <input id="profile-edit-birthdate" name="profilebirthdate" data-role="date" type="date">
                <label for="profile-edit-motto">Motto:</label>
                <input id="profile-edit-motto" data-clear-btn="true" type="text" name="profilemotto" value="">
                <label for="profile-edit-school">School:</label>
                <input id="profile-edit-school" data-clear-btn="true" type="text" name="profileuschool" value="">
                <label for="profile-edit-major">Major:</label>
                <input id="profile-edit-major" data-clear-btn="true" type="text" name="profilemajor" value="">
                <label for="profile-edit-interest">Interest:</label>
                <input id="profile-edit-interest" data-clear-btn="true" type="text" name="profileinterest" value="">
                <label for="profile-edit-location">Location:</label>
                <input id="profile-edit-location" data-clear-btn="true" type="text" name="profilelocation" value="">
            </form>
        </div><!-- /content -->

        <div data-role="footer" data-position="fixed" data-tap-toggle="false"></div><!-- /footer -->

    </div><!-- /page -->

    <!-- Page for displaying change my password page -->
    <div id="page-change-my-password" data-role="page" data-title="Yueme">

        <div data-role="header">
            <h1 id="setting-change-my-password-title">Set Password</h1>
            <a class="ui-btn-left ui-btn ui-btn-inline ui-corner-all" data-rel="back" href="#page-setting"
               onclick="setCurrLocationHash('#page-setting')">Back</a>
        </div><!-- /header -->

        <div class="ui-content" role="main">
            <form id="setting-confirm-password" style="padding: 1em;">
                <label for="setting-old-password">Current Password:</label>
                <input id="setting-old-password" type="password" data-clear-btn="true" value="">
                <div class="error-message" id="setting-confirm-password-error"></div>
                <button class="ui-btn" id="setting-confirm-password-btn"
                        onclick="changePassword('old',$('#setting-old-password').val(),null)">Next
                </button>
            </form>

            <form id="setting-set-new-password" style="padding: 1em; display:none">
                <label for="setting-new-password">New Password:</label>
                <input id="setting-new-password" data-clear-btn="true" type="password" value="">
                <label for="setting-new-password-confirmation">Confirm Password:</label>
                <input id="setting-new-password-confirmation" data-clear-btn="true" type="password" value="">
                <div class="error-message" id="setting-set-new-password-error"></div>
                <button class="ui-btn" id="setting-set-new-password-btn" style="display:none"
                        onclick="changePassword('new',$('#setting-new-password').val(),$('#setting-new-password-confirmation').val())">Save
                </button>
            </form>
        </div><!-- /content -->

    </div><!-- /page -->

    <div class="rwd-example ui-footer ui-bar-inherit ui-footer-fixed slideup ui-page-theme-a" id="send-comment-bar"
         style="z-index:3; display:none; position:absolute; background-color: #e9e9e9; border-color: #ddd;">

        <form id="comment-form">
            <label class="ui-hidden-accessible" id="event-id-label"></label>

            <div class="custom-block-a"
                 onclick="sendToolbarActiveKeyboard({id:'#comment-content',bar:'#send-comment-bar',base:'#page-event-detail'});">
                <div class="ui-input-text ui-shadow-inset ui-focus ui-body-inherit ui-corner-all">
                    <input id="comment-content" type="text" name="commentcontent" value="">
                </div>
            </div>

            <div class="custom-block-b">
                <button class="ui-btn ui-corner-all custom-send-button" id="send-comment-button" onclick="sendComment();">Send</button>
            </div>
        </form>

    </div>

    <div class="rwd-example ui-footer ui-bar-inherit ui-footer-fixed slideup ui-page-theme-a" id="send-message-bar"
         style="z-index:3; display:none; position:absolute; background-color: #e9e9e9; border-color: #ddd;">

        <form id="message-chat-form">
            <label class="ui-hidden-accessible" id="group-id-label"></label>

            <div class="custom-block-a"
                 onclick="sendToolbarActiveKeyboard({id:'#message-content',bar:'#send-message-bar',base:'#page-chat-messages'});">
                <div class="ui-input-text ui-shadow-inset ui-focus ui-body-inherit ui-corner-all">
                    <input id="message-content" type="text" name="messagecontent" value="">
                </div>
            </div>

            <div class="custom-block-b">
                <button class="ui-btn ui-corner-all custom-send-button" id="send-message-button" onclick="sendMessage();">Send</button>
            </div>
        </form>

    </div>

</body>

</html>